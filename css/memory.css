/* MEMORY.CSS - SPACE ADVENTURE & NO SCROLL FIX */

/* BELANGRIJK: Scrollen blokkeren op de hele pagina */
body, html {
    margin: 0; padding: 0; width: 100%; height: 100%;
    overflow: hidden; /* Geen scrollbalken! */
    background-color: #0B0D17; /* Diep heelal zwart/blauw */
}

/* --- 1. SETUP & MENU (Hologram Stijl) --- */
.memory-setup { 
    display: flex; flex-direction: column; width: 100%; height: 100%; 
    padding: 15px; box-sizing: border-box; 
    background: radial-gradient(circle at center, #1B2735 0%, #090A0F 100%);
    color: #fff;
    font-family: 'Fredoka One', cursive;
}

.setup-columns { display: flex; flex-direction: row; gap: 20px; flex: 1; min-height: 0; margin-bottom: 15px; }

.setup-group { 
    background: rgba(16, 33, 65, 0.8); /* Glas effect */
    border: 2px solid #00E5FF; /* Cyaan Neon rand */
    box-shadow: 0 0 15px rgba(0, 229, 255, 0.2);
    border-radius: 20px; padding: 15px; flex: 1; 
    display: flex; flex-direction: column; align-items: center; 
    overflow-y: auto; 
}
.setup-group h3 { color: #00E5FF; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px; text-shadow: 0 0 5px #00E5FF; }

/* Knoppen als Ruimteschip bediening */
.option-btn { 
    background: #1F4068; border: 1px solid #4B6CB7; 
    padding: 10px 15px; border-radius: 8px; 
    color: #E0E0E0; font-family: 'Fredoka One', cursive; cursor: pointer; 
    min-width: 60px; transition: 0.2s;
}
.player-btn.selected-pending { 
    background: #FFD700; color: #000; 
    box-shadow: 0 0 15px #FFD700; border-color: #fff;
}

.custom-name-container input { 
    background: rgba(0,0,0,0.5); border: 1px solid #00E5FF; 
    color: white; padding: 8px; border-radius: 5px; flex: 1;
}
.add-btn { background: #00E5FF; color: #000; border: none; font-weight: bold; border-radius: 5px; cursor: pointer; }

/* Thema selectie */
.theme-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 10px; width: 100%; }
.theme-card-btn { background: #000; border: 2px solid #333; border-radius: 10px; overflow: hidden; }
.theme-card-btn.selected { border-color: #00FF00; box-shadow: 0 0 20px #00FF00; transform: scale(1.05); }

.start-btn { 
    background: linear-gradient(90deg, #00C853, #64DD17); 
    color: #000; border: none; padding: 15px; border-radius: 10px; 
    font-size: 1.5rem; text-transform: uppercase; letter-spacing: 2px;
    box-shadow: 0 0 20px rgba(100, 221, 23, 0.5); cursor: pointer; width: 100%;
}
.start-btn:disabled { background: #333; color: #777; box-shadow: none; }

/* --- 2. GAME BOARD (De Ruimte) --- */
.memory-game-container {
    display: flex; flex-direction: column; align-items: center; 
    width: 100%; height: 100%;
    
    /* STERREN ACHTERGROND */
    background-color: #050505;
    background-image: 
        radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
        radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
        radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
    background-size: 550px 550px, 350px 350px, 250px 250px;
    background-position: 0 0, 40px 60px, 130px 270px;
    
    /* SAFE AREA PADDING */
    padding-top: max(10px, env(safe-area-inset-top));
    padding-bottom: max(10px, env(safe-area-inset-bottom));
    padding-left: max(20px, env(safe-area-inset-left));
    padding-right: max(20px, env(safe-area-inset-right));
    box-sizing: border-box;
}

/* --- 3. SPACE SCOREBORD (HUD) --- */
.score-board {
    display: flex; gap: 15px; padding: 10px 20px; margin-bottom: 5px;
    background: rgba(0, 0, 0, 0.6); 
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 40px;
    flex-shrink: 0; justify-content: center; max-height: 70px; flex-wrap: wrap;
    backdrop-filter: blur(5px);
}

.player-badge {
    position: relative; padding: 6px 20px; border-radius: 20px; 
    border: 2px solid; /* Kleur via JS */
    background: rgba(0,0,0,0.8); 
    color: white; font-weight: bold; font-size: 1rem;
    overflow: hidden; display: flex; align-items: center; justify-content: center;
    min-width: 100px; 
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    transition: 0.3s;
}

/* Energie balk */
.score-fill { 
    position: absolute; left: 0; top: 0; bottom: 0; width: 0%; 
    opacity: 0.5; 
    box-shadow: 0 0 10px inset currentColor; /* Gloed in de balk */
    transition: width 0.6s ease-out; z-index: 0; 
}

.badge-content { position: relative; z-index: 1; text-shadow: 0 1px 2px black; letter-spacing: 1px; }

/* Actieve speler licht op als een supernova */
.player-badge.active { 
    transform: scale(1.1); 
    box-shadow: 0 0 20px currentColor; 
    z-index: 10;
    border-width: 3px;
}

/* --- 4. GRID & CARDS --- */
.memory-grid {
    display: grid; 
    grid-template-columns: repeat(var(--grid-cols, 6), var(--card-size));
    gap: 8px; /* Iets meer ruimte tussen kaarten */
    justify-content: center; align-content: center;
    /* Belangrijk: max 100% van de container */
    max-width: 100%; max-height: 100%; flex: 1; 
}

.memory-card { 
    position: relative; cursor: pointer; user-select: none;
    width: var(--card-size); height: var(--card-size);
    box-sizing: border-box;
    transition: transform 0.2s;
}
.memory-card:active { transform: scale(0.95); }

.memory-card-inner {
    width: 100%; height: 100%; position: relative;
    transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.4, 2, 0.7, 0.4); /* Space flip */
    border-radius: 10px; 
    box-shadow: 0 4px 8px rgba(0,0,0,0.5);
}
.memory-card.flipped .memory-card-inner { transform: rotateY(180deg); box-shadow: 0 0 15px rgba(255,255,255,0.2); }

.card-front, .card-back {
    position: absolute; width: 100%; height: 100%; 
    backface-visibility: hidden;
    border-radius: 10px; border: 2px solid rgba(255,255,255,0.1); overflow: hidden;
    background: #1a1a1a;
}

/* Achterkant van de kaart (Holografisch patroon) */
.card-front { 
    background: linear-gradient(135deg, #2c3e50, #000000); 
    z-index: 2; 
    display: flex; justify-content: center; align-items: center;
}
.card-front::after { content: 'ðŸš€'; font-size: 2rem; opacity: 0.5; filter: grayscale(100%); }

.card-back { transform: rotateY(180deg); border: 2px solid #fff; }

/* Images */
.card-front img, .card-back img { 
    width: 100% !important; height: 100% !important; 
    object-fit: cover !important; display: block; 
}

/* Match Animatie */
.memory-card.matched .memory-card-inner { 
    animation: galaxyPulse 0.8s ease-in-out; 
    box-shadow: 0 0 25px #00FF00; /* Groene laser gloed */
    border-color: #00FF00;
}

@keyframes galaxyPulse {
    0% { transform: rotateY(180deg) scale(1); }
    50% { transform: rotateY(180deg) scale(1.15); box-shadow: 0 0 50px #00FF00; }
    100% { transform: rotateY(180deg) scale(1); }
}

@media (max-width: 700px) {
    .setup-columns { flex-direction: column; }
    .theme-grid { grid-template-columns: repeat(3, 1fr); }
}
