/* --- css/memory.css --- */

/* SETUP DASHBOARD CONTAINER */
.memory-setup {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    padding: 10px; /* Iets minder padding om ruimte te sparen */
    background: rgba(255, 255, 255, 0.6); /* Beetje doorzichtig zodat je de leuke achtergrond ziet */
    box-sizing: border-box;
    overflow: hidden; /* Alles wat te groot is wordt afgeknipt (behalve interne scroll) */
}

/* De container voor de 3 kolommen */
.setup-columns {
    display: flex;
    flex-direction: row;
    gap: 15px;
    
    /* DIT IS DE FIX VOOR DE TABLET: */
    flex: 1; /* Neem alle beschikbare ruimte in... */
    min-height: 0; /* ...maar forceer niet groter dan het scherm! */
    
    margin-bottom: 10px;
}

/* De individuele blokken (Wie, Wat, Grootte) */
.setup-group {
    background: #FFF;
    border-radius: 20px;
    padding: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    border: 3px solid #E0F7FA;
    
    flex: 1; /* Even breed */
    display: flex;
    flex-direction: column;
    align-items: center;
    
    /* DIT IS DE FIX: Alleen IN het blokje scrollen als het niet past */
    overflow-y: auto; 
    min-height: 0;
}

/* ... (Kleuraccenten .group-players etc. blijven hetzelfde) ... */
.group-players { border-color: #B3E5FC; }
.group-theme { border-color: #C8E6C9; }
.group-size { border-color: #FFF9C4; }

.setup-group h3 {
    color: #0277BD;
    margin: 5px 0 10px 0;
    font-size: 1.1rem; /* Iets kleiner font voor ruimte */
    font-family: 'Fredoka One', cursive;
    text-transform: uppercase;
    text-align: center;
    flex-shrink: 0; /* Titel mag niet krimpen */
}

/* ... (Kleuren en Knoppen blijven grotendeels hetzelfde, hieronder de compactere versie) ... */

.color-picker-title { font-size: 0.8rem; color: #888; margin-bottom: 5px; font-family: 'Nunito', sans-serif; }
.color-row { display: flex; justify-content: center; gap: 8px; margin-bottom: 10px; padding: 5px; background: #F1F1F1; border-radius: 50px; width: 100%; flex-shrink: 0; }
.color-dot { width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: transform 0.2s; }
.color-dot.active { transform: scale(1.3); border-color: #333; box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 2; }

.option-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px; /* Iets minder gap */
    width: 100%;
    padding-bottom: 5px;
}

.option-btn {
    background: #E1F5FE;
    color: #0288D1;
    border: none;
    padding: 8px; /* Iets compacter */
    border-radius: 15px;
    font-size: 1.6rem; /* Iets kleiner icoon */
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 60px; /* Iets smaller */
    box-shadow: 0 3px 0 #B3E5FC;
    transition: all 0.2s;
    position: relative;
}

.option-btn .btn-label { font-size: 0.75rem; margin-top: 2px; font-family: 'Fredoka One', cursive; color: #555; white-space: nowrap; }
.option-btn.selected { transform: translateY(-2px); color: white; }
.option-btn.selected .btn-label { color: white; }
.group-theme .option-btn.selected { background: #4CAF50; box-shadow: 0 4px 0 #2E7D32; }
.group-size .option-btn.selected { background: #FFC107; box-shadow: 0 4px 0 #FFA000; }
.player-btn { background: white; border: 3px solid #EEE; box-shadow: 0 4px 0 #EEE; }
.option-btn.locked { filter: grayscale(100%); opacity: 0.5; cursor: not-allowed; background: #EEE; box-shadow: none; }
.star { color: #FFD700; text-shadow: 1px 1px 0 #FFA000; } .star.dim { color: #CFD8DC; text-shadow: none; opacity: 0.5; }

/* Input veld */
.player-input-container {
    display: flex;
    gap: 5px;
    margin-top: auto; /* Duw naar beneden in de container */
    padding-top: 10px;
    width: 100%;
    border-top: 2px dashed #EEE;
    flex-shrink: 0;
}
#custom-player-name { flex: 1; padding: 8px; border-radius: 15px; border: 2px solid #B3E5FC; font-family: 'Nunito', sans-serif; }
.add-btn { background: #FFC107; border: none; border-radius: 12px; width: 40px; color: white; font-size: 1.5rem; cursor: pointer; }

/* START KNOP (DE TABLET FIX) */
.start-btn {
    background: linear-gradient(to bottom, #66BB6A, #43A047);
    color: white;
    border: none;
    padding: 12px; /* Iets minder hoog */
    font-size: 1.5rem; /* Iets kleiner font */
    border-radius: 20px;
    width: 100%;
    cursor: pointer;
    box-shadow: 0 4px 0 #2E7D32;
    font-family: 'Fredoka One', cursive;
    
    /* CRUCIAAL: Zorg dat deze knop nooit geplet wordt */
    flex-shrink: 0; 
    margin-top: 0; /* Margin wordt geregeld door gap van parent */
}
.start-btn:disabled { background: #CFD8DC; color: #90A4AE; box-shadow: none; cursor: not-allowed; }

/* ... (Hieronder komt /* GAME BORD CONTAINER */ en de rest, dat mag blijven staan) ... */

/* GAME BORD CONTAINER */
.memory-game-container { 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    width: 100%; 
    height: 100%; 
    overflow: hidden; /* BELANGRIJK: Geen scrollbars */
}
.score-board { 
    display: flex; 
    gap: 10px; 
    padding: 5px 10px; 
    background: rgba(255,255,255,0.7); 
    border-radius: 50px; 
    margin-bottom: 5px; 
    flex-wrap: wrap; 
    justify-content: center;
    flex-shrink: 0; /* Zorg dat scorebord niet krimpt */
}
.player-badge { background: white; padding: 5px 15px; border-radius: 30px; display: flex; align-items: center; gap: 8px; border: 3px solid #EEE; font-family: 'Fredoka One', cursive; color: #777; opacity: 0.6; transition: all 0.3s; }
.player-badge.active { opacity: 1; transform: scale(1.1); box-shadow: 0 4px 12px rgba(0,0,0,0.15); background: #FFF; color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }

/* GRID & KAARTEN */
.memory-grid { 
    display: grid; 
    gap: 10px; 
    /* Grootte wordt nu door JS bepaald, maar CSS helpt centreren */
    margin: 0 auto;
    justify-content: center;
    align-content: center;
}

.memory-card { 
    position: relative; 
    /* Grootte wordt door JS gezet (style="width: ...") */
    user-select: none; 
    /* Geen vaste aspect-ratio hier, JS regelt de pixels */
}
.memory-card-inner { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); border-radius: 12px; box-shadow: 0 3px 6px rgba(0,0,0,0.15); }
.memory-card.flipped .memory-card-inner { transform: rotateY(180deg); }

.card-front, .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 12px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.card-front { background: linear-gradient(135deg, #4FC3F7, #0288D1); border: 3px solid white; z-index: 2; }
.card-cover-emoji { font-size: 3rem; text-shadow: 0 2px 0 rgba(0,0,0,0.2); }
.card-cover-img { width: 100%; height: 100%; object-fit: cover; }
.card-back { background: white; transform: rotateY(180deg); border: 3px solid #FFC107; position: relative; }

/* FIX: Afbeeldingen passen netjes */
.card-img { width: 85%; height: 85%; object-fit: contain; display: block; }
.card-emoji { font-size: 4rem; }

/* GROEN VINKJE BIJ MATCH */
.match-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.6); display: flex; justify-content: center; align-items: center; border-radius: 10px; opacity: 0; transform: scale(0.5); transition: all 0.3s; pointer-events: none; z-index: 10; }
.checkmark { font-size: 4rem; color: #4CAF50; text-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.memory-card.matched .match-overlay { opacity: 1; transform: scale(1); }
.memory-card.matched .card-back { border-color: #4CAF50; box-shadow: 0 0 15px #4CAF50; }

@media (max-width: 650px) { .setup-columns { flex-direction: column; } .card-img { width: 90%; height: 90%; } }
